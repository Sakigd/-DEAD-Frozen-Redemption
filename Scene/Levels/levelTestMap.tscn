[gd_scene load_steps=18 format=3 uid="uid://cek0f3q58j730"]

[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="1_1ud2h"]
[ext_resource type="Texture2D" uid="uid://2fgqx5i8emlx" path="res://asset/Test_map.png" id="1_hi56p"]
[ext_resource type="PackedScene" uid="uid://bcwkugn6v3oy7" path="res://addons/godot_state_charts/utilities/state_chart_debugger.tscn" id="4_hlwpw"]
[ext_resource type="PackedScene" uid="uid://b41oickcktc0y" path="res://Scene/desesperatedSlave.tscn" id="5_8ig20"]
[ext_resource type="PackedScene" uid="uid://brrt1khpgb4ur" path="res://Scene/campfire.tscn" id="6_073y2"]
[ext_resource type="Texture2D" uid="uid://c46438mmwhkh7" path="res://asset/door.png" id="6_bqgi1"]
[ext_resource type="Script" path="res://Script/doorNextMap.gd" id="6_jq1xs"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1h7ml"]
vertices = PackedVector2Array(522, 363, 762, 410, 311, 410, 438, 363, 762, 8, 522, 218, 10, 8, 438, 218, 362, 186, 362, 230, 245, 186, 10, 378, 245, 230, 266, 378, 266, 467, 311, 467)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 1, 0, 5), PackedInt32Array(6, 4, 5, 7, 8), PackedInt32Array(9, 8, 7, 3), PackedInt32Array(6, 8, 10), PackedInt32Array(11, 6, 10, 12), PackedInt32Array(13, 11, 12), PackedInt32Array(12, 9, 3, 2, 13), PackedInt32Array(14, 13, 2, 15)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-3, -2, 772, -2, 772, 477, -3, 478)])
source_geometry_group_name = &"navigation_polygon_source_group"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aqmtq"]
size = Vector2(256, 92)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_skbwe"]
size = Vector2(533.5, 59.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sf8c6"]
size = Vector2(28, 480)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fgemk"]
size = Vector2(64, 124.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_i7h33"]
size = Vector2(97, 24)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mb3ej"]
size = Vector2(64, 33.375)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_e6fnv"]
size = Vector2(64, 44)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lnva6"]
size = Vector2(96, 10)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bxt6t"]
size = Vector2(13, 120)

[node name="LevelTest" type="Node2D"]

[node name="MapLevelTest" type="Sprite2D" parent="."]
texture_filter = 1
texture = ExtResource("1_hi56p")
centered = false
metadata/_edit_lock_ = true

[node name="RoomInstance" parent="." instance=ExtResource("1_1ud2h")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
visible = false
navigation_polygon = SubResource("NavigationPolygon_1h7ml")

[node name="ground" type="StaticBody2D" parent="NavigationRegion2D"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/ground"]
position = Vector2(128, 434)
shape = SubResource("RectangleShape2D_aqmtq")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="NavigationRegion2D/ground"]
position = Vector2(587.25, 449.75)
shape = SubResource("RectangleShape2D_skbwe")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="NavigationRegion2D/ground"]
position = Vector2(-14, 240)
shape = SubResource("RectangleShape2D_sf8c6")

[node name="plateforme" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(481, 261)
collision_layer = 2
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/plateforme"]
position = Vector2(-1, 29.25)
shape = SubResource("RectangleShape2D_fgemk")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(305, 203)
collision_layer = 2
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/StaticBody2D"]
position = Vector2(-1.5, 5)
shape = SubResource("RectangleShape2D_i7h33")

[node name="spike" type="StaticBody2D" parent="."]
position = Vector2(288, 456)
collision_layer = 2
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="spike"]
position = Vector2(0, 7.6875)
shape = SubResource("RectangleShape2D_mb3ej")

[node name="hitbox" type="Area2D" parent="spike" groups=["spike"]]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="spike/hitbox"]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_e6fnv")

[node name="echaffaudage" type="StaticBody2D" parent="."]
position = Vector2(672, 333)
collision_layer = 2
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="echaffaudage"]
position = Vector2(3, 2)
shape = SubResource("RectangleShape2D_lnva6")
one_way_collision = true

[node name="StateChartDebugger" parent="." instance=ExtResource("4_hlwpw")]
visible = false
anchors_preset = -1
anchor_left = 0.194271
anchor_top = 0.0231481
anchor_right = 0.578125
anchor_bottom = 0.356481
offset_left = 373.0
offset_top = 24.9999
offset_right = 373.0
offset_bottom = 55.9999
size_flags_horizontal = 0
metadata/_edit_use_anchors_ = true

[node name="desesperatedSlave" parent="." instance=ExtResource("5_8ig20")]
position = Vector2(518, 394)
collision_layer = 0

[node name="Campfire" parent="." instance=ExtResource("6_073y2")]
position = Vector2(68, 391)

[node name="Door" type="Sprite2D" parent="."]
z_index = 2
position = Vector2(803, 375)
texture = ExtResource("6_bqgi1")

[node name="doorNextMap" type="Area2D" parent="."]
position = Vector2(793, 396)
script = ExtResource("6_jq1xs")
target_map = "LevelBoss.tscn"
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="doorNextMap"]
position = Vector2(3.5, -25)
shape = SubResource("RectangleShape2D_bxt6t")

[connection signal="body_entered" from="doorNextMap" to="doorNextMap" method="_on_body_entered"]
